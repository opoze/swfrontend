<div class="container">
  <div class="row" style="margin:20px">
    <div class="col-md-6">
      <h4>Novo Fornecedor</h4>
    </div>
    <div class="col-md-5"></div>
    <div class="col-md-1">
      <button class="btn btn-light" (click)="goBack()">Voltar</button>
    </div>
  </div>
</div>

<form #suplierForm="ngForm" (ngSubmit)="storeSuplier(suplierForm)">

  <div class="form-group">
    <label for="name">Nome</label>
    <input type="text" minlength="4" maxlength="255" class="form-control" id="name" required [(ngModel)]="model.name" name="name" #name="ngModel" placeholder="Nome">
      <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">
        <div *ngIf="name.errors.required">
          Informe um nome
        </div>
        <div *ngIf="name.errors.minlength">
          Nome deve conter no mínimo 4 caravteres
        </div>
        <div *ngIf="name.errors.maxlength">
          Nome deve ter no máximo 255 caracteres
        </div>
      </div>
  </div>

  <div class="form-group">
    <label for="name">CPF</label>
    <input [disabled]="(cnpj.valid)" mask="000.000.000-00" [dropSpecialCharacters]="false" minlength="14" maxlength="14" type="text" class="form-control" id="cpf" required [(ngModel)]="model.cpf" name="cpf" cpf="ngModel" placeholder="CPF" #cpf="ngModel">
      <div *ngIf="cpf.invalid && (cpf.dirty || cpf.touched)" class="alert alert-danger">
        <div *ngIf="cpf.errors.required">
          Informe um CPF
        </div>
        <div *ngIf="cpf.errors.minlength">
          CPF deve conter 14 caracteres
        </div>
        <div *ngIf="cpf.errors.maxlength">
          CPF deve ter no 14 caracteres
        </div>
      </div>
  </div>

  <div class="form-group">
    <label for="name">CNPJ</label>
    <input [disabled]="(cpf.valid)" mask="00.000.000/0000-00" [dropSpecialCharacters]="false" minlength="18" maxlength="18" type="text" class="form-control" id="cnpj" required [(ngModel)]="model.cnpj" name="cnpj" cnpj="ngModel" placeholder="CNPJ" #cnpj="ngModel">
        <div *ngIf="cnpj.invalid && (cnpj.dirty || cnpj.touched)" class="alert alert-danger">
        <div *ngIf="cnpj.errors.required">
          Informe um CNPJ
        </div>
        <div *ngIf="cnpj.errors.minlength">
          CNPJ deve conter 18 caracteres
        </div>
        <div *ngIf="cnpj.errors.maxlength">
          CNPJ deve ter no 18 caracteres
        </div>
      </div>
  </div>

  <div class="form-group">
    <label for="name">Telefone</label>
    <input type="text" minlength="8" maxlength="20" class="form-control" id="fone" required [(ngModel)]="model.fone" name="fone" #fone="ngModel" placeholder="Telefone">
      <div *ngIf="fone.invalid && (fone.dirty || fone.touched)" class="alert alert-danger">
        <div *ngIf="fone.errors.required">
          Informe um telefone
        </div>
        <div *ngIf="fone.errors.minlength">
          Nome deve conter no mínimo 8 caravteres
        </div>
        <div *ngIf="fone.errors.maxlength">
          nome deve ter no máximo 20 caracteres
        </div>
      </div>
  </div>

  <div class="form-group">
    <label for="name">E-mail</label>
    <input type="text" minlength="3" maxlength="100" class="form-control" id="email" required [(ngModel)]="model.email" name="email" #email="ngModel" placeholder="E-mail">
      <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">
        <div *ngIf="email.errors.required">
          Informe um e-mail
        </div>
        <div *ngIf="email.errors.minlength">
          E-mail deve conter no mínimo 3 caravteres
        </div>
        <div *ngIf="email.errors.maxlength">
          E-mail deve ter no máximo 100 caracteres
        </div>
      </div>
  </div>


  <button type="submit" class="btn btn-success" [disabled]="!suplierForm.form.valid">Salvar</button>
  <button type="button" (click)="cancel()" class="btn light">Cancelar</button>
</form>
